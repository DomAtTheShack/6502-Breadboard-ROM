Sections:
00: "org0001:8000" (8000-8014)
01: "org0002:a000" (A000-A026)
02: "org0003:b000" (B000-B089)
03: "org0004:fffc" (FFFC-0)


Source: "/media/dominichann/Main Disk/Programming/IDEProjects/Java/6502-Breadboard-ROM/main.s"
                        	     1: 
                        	     2:   .org $8000
                        	     3: 
                        	     4: reset:
00:8000 2016A0          	     5:   jsr acia_init
00:8003 206AB0          	     6:   jsr lcd_init
                        	     7: 
                        	     8: main:
00:8006 2000A0          	     9:   jsr char_rx
00:8009 48              	    10:   pha
00:800A 2054B0          	    11:   jsr print_char
00:800D 68              	    12:   pla
00:800E 200BA0          	    13:   jsr char_tx
00:8011 4C0680          	    14:   jmp main
                        	    15: 
                        	    16:   .include "serial.s"

Source: "serial.s"
                        	     1: ACIA_DATA = $4000
                        	     2: ACIA_STATUS = $4001
                        	     3: ACIA_CMD = $4002
                        	     4: ACIA_CTRL = $4003
                        	     5: 
                        	     6:   .org $a000
                        	     7: 
                        	     8: char_rx:
                        	     9: rx_wait:
01:A000 AD0140          	    10:   lda ACIA_STATUS
01:A003 2908            	    11:   and #$08        ; check rx buffer
01:A005 F0F9            	    12:   beq rx_wait
                        	    13: 
01:A007 AD0040          	    14:   lda ACIA_DATA
01:A00A 60              	    15:   rts
                        	    16: 
                        	    17: char_tx:
01:A00B 8D0040          	    18:   sta ACIA_DATA
                        	    19: tx_wait:
01:A00E AD0140          	    20:   lda ACIA_STATUS
01:A011 2910            	    21:   and #$10          ; Check tx buffer
01:A013 F0F9            	    22:   beq tx_wait
01:A015 60              	    23:   rts
                        	    24: 
                        	    25: acia_init:
01:A016 A900            	    26:   lda #0
01:A018 8D0140          	    27:   sta ACIA_STATUS
                        	    28: 
01:A01B A91F            	    29:   lda #%00011111
01:A01D 8D0340          	    30:   sta ACIA_CTRL ; N-8-1 19200 baud
                        	    31: 
01:A020 A91B            	    32:   lda #%00011011
01:A022 8D0240          	    33:   sta ACIA_CMD ; no parity, echo, no interrupts
01:A025 60              	    34:   rts
                        	    35: 

Source: "/media/dominichann/Main Disk/Programming/IDEProjects/Java/6502-Breadboard-ROM/main.s"
                        	    17:   .include "lcd.s"

Source: "lcd.s"
                        	     1: PORTB = $6000
                        	     2: PORTA = $6001
                        	     3: DDRB = $6002
                        	     4: DDRA = $6003
                        	     5: 
                        	     6: E  = %10000000
                        	     7: RW = %01000000
                        	     8: RS = %00100000
                        	     9: 
                        	    10:   .org $b000
                        	    11: 
                        	    12: print:
02:B000 BD0DB0          	    13:   lda message,x
02:B003 F007            	    14:   beq done
02:B005 2054B0          	    15:   jsr print_char
02:B008 E8              	    16:   inx
02:B009 4C00B0          	    17:   jmp print
                        	    18: done:
02:B00C 60              	    19:   rts
                        	    20: 
02:B00D 48656C6C6F2C2077	    21: message: .asciiz "Hello, world!"
02:B015 6F726C6421
02:B01A 00
                        	    22: 
                        	    23: lcd_wait:
02:B01B 48              	    24:   pha
02:B01C A900            	    25:   lda #%00000000  ; Port B is input
02:B01E 8D0260          	    26:   sta DDRB
                        	    27: lcdbusy:
02:B021 A940            	    28:   lda #RW
02:B023 8D0160          	    29:   sta PORTA
02:B026 A9C0            	    30:   lda #(RW | E)
02:B028 8D0160          	    31:   sta PORTA
02:B02B AD0060          	    32:   lda PORTB
02:B02E 2980            	    33:   and #%10000000
02:B030 D0EF            	    34:   bne lcdbusy
                        	    35: 
02:B032 A940            	    36:   lda #RW
02:B034 8D0160          	    37:   sta PORTA
02:B037 A9FF            	    38:   lda #%11111111  ; Port B is output
02:B039 8D0260          	    39:   sta DDRB
02:B03C 68              	    40:   pla
02:B03D 60              	    41:   rts
                        	    42: 
                        	    43: lcd_instruction:
02:B03E 201BB0          	    44:   jsr lcd_wait
02:B041 8D0060          	    45:   sta PORTB
02:B044 A900            	    46:   lda #0         ; Clear RS/RW/E bits
02:B046 8D0160          	    47:   sta PORTA
02:B049 A980            	    48:   lda #E         ; Set E bit to send instruction
02:B04B 8D0160          	    49:   sta PORTA
02:B04E A900            	    50:   lda #0         ; Clear RS/RW/E bits
02:B050 8D0160          	    51:   sta PORTA
02:B053 60              	    52:   rts
                        	    53: 
                        	    54: print_char:
02:B054 201BB0          	    55:   jsr lcd_wait
02:B057 8D0060          	    56:   sta PORTB
02:B05A A920            	    57:   lda #RS         ; Set RS; Clear RW/E bits
02:B05C 8D0160          	    58:   sta PORTA
02:B05F A9A0            	    59:   lda #(RS | E)   ; Set E bit to send instruction
02:B061 8D0160          	    60:   sta PORTA
02:B064 A920            	    61:   lda #RS         ; Clear E bits
02:B066 8D0160          	    62:   sta PORTA
02:B069 60              	    63:   rts
                        	    64: 
                        	    65: lcd_init:
02:B06A A9FF            	    66:   lda #%11111111 ; Set all pins on port B to output
02:B06C 8D0260          	    67:   sta DDRB
02:B06F A9E0            	    68:   lda #%11100000 ; Set top 3 pins on port A to output
02:B071 8D0360          	    69:   sta DDRA
02:B074 A938            	    70:   lda #%00111000 ; Set 8-bit mode; 2-line display; 5x8 font
02:B076 203EB0          	    71:   jsr lcd_instruction
02:B079 A90E            	    72:   lda #%00001110 ; Display on; cursor on; blink off
02:B07B 203EB0          	    73:   jsr lcd_instruction
02:B07E A906            	    74:   lda #%00000110 ; Increment and shift cursor; don't shift display
02:B080 203EB0          	    75:   jsr lcd_instruction
02:B083 A901            	    76:   lda #%00000001 ; Clear display
02:B085 203EB0          	    77:   jsr lcd_instruction
02:B088 60              	    78:   rts
                        	    79: 

Source: "/media/dominichann/Main Disk/Programming/IDEProjects/Java/6502-Breadboard-ROM/main.s"
                        	    18: 
                        	    19:   .org $fffc
03:FFFC 0080            	    20:   .word reset
03:FFFE 0000            	    21:   .word $0000
                        	    22: 
                        	    23: 


Symbols by name:
ACIA_CMD                         E:4002
ACIA_CTRL                        E:4003
ACIA_DATA                        E:4000
ACIA_STATUS                      E:4001
DDRA                             E:6003
DDRB                             E:6002
E                                E:0080
PORTA                            E:6001
PORTB                            E:6000
RS                               E:0020
RW                               E:0040
acia_init                        A:A016
char_rx                          A:A000
char_tx                          A:A00B
done                             A:B00C
lcd_init                         A:B06A
lcd_instruction                  A:B03E
lcd_wait                         A:B01B
lcdbusy                          A:B021
main                             A:8006
message                          A:B00D
print                            A:B000
print_char                       A:B054
reset                            A:8000
rx_wait                          A:A000
tx_wait                          A:A00E

Symbols by value:
0020 RS
0040 RW
0080 E
4000 ACIA_DATA
4001 ACIA_STATUS
4002 ACIA_CMD
4003 ACIA_CTRL
6000 PORTB
6001 PORTA
6002 DDRB
6003 DDRA
8000 reset
8006 main
A000 char_rx
A000 rx_wait
A00B char_tx
A00E tx_wait
A016 acia_init
B000 print
B00C done
B00D message
B01B lcd_wait
B021 lcdbusy
B03E lcd_instruction
B054 print_char
B06A lcd_init
